# AI Workflow Rules ‚Äî ROADMAP

> **Version:** 9.1.1
> **Last Updated:** 2026-02-24
> **Archive:** [Round 4 (2026-02-23)](ai-logs/ROADMAP-archive-round4-2026-02-23.md) | [Round 2+3 (2026-02-23)](ai-logs/ROADMAP-archive-2026-02-23.md) | [Tasks 1-8 + Round 1 (2026-02-21)](ai-logs/ROADMAP-archive-2026-02-21.md)
> **Vision:** Opinionated Ukrainian product. No opt-outs. Less is more.

---

## –ö–∞—Ä—Ç–∞ —Ñ–∞–π–ª—ñ–≤ (Source of Truth)

> –ü–µ—Ä–µ–¥ –±—É–¥—å-—è–∫–æ—é —Ñ–∞–∑–æ—é ‚Äî –∑–≤—ñ—Ä—è—Ç–∏ –∑ —Ü—ñ—î—é —Ç–∞–±–ª–∏—Ü–µ—é.

| AI / IDE | Dev —Ñ–∞–π–ª | npm-templates —Ñ–∞–π–ª |
|----------|----------|--------------------|
| Claude Code | `.claude/CLAUDE.md` | `npm-templates/.claude/CLAUDE.md` |
| Cursor (new ‚â•0.45) | `.cursor/rules/ai-workflow.mdc` | `npm-templates/.cursor/rules/ai-workflow.mdc` |
| Cursor (legacy <0.45) | `.cursorrules` | `npm-templates/.cursorrules` |
| Any AI (web) | `AGENTS.md` | `npm-templates/AGENTS.md` |
| Claude Skills | `.claude/commands/*.md` | `npm-templates/.claude/commands/*.md` |

> **–ü—Ä–∞–≤–∏–ª–æ:** –±—É–¥—å-—è–∫–∞ –∑–º—ñ–Ω–∞ rule-—Ñ–∞–π–ª—É = 8+ —Ñ–∞–π–ª—ñ–≤ (4+ –ø–∞—Ä–∏).

---

## –ê–∫—Ç–∏–≤–Ω—ñ –∑–∞–¥–∞—á—ñ

---

### ‚úÖ Task 16: Universal Token Monitoring Model v2.0 (Round 5) ‚Äî DONE 2026-02-24

> **–ü—Ä—ñ–æ—Ä–∏—Ç–µ—Ç:** P1 ‚Äî –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–Ω–∞ –ø–æ–º–∏–ª–∫–∞ –≤ –æ—Å–Ω–æ–≤—ñ —Å–∏—Å—Ç–µ–º–∏
> **–î–∂–µ—Ä–µ–ª–æ:** –ì–ª–∏–±–æ–∫–∏–π –∞–Ω–∞–ª—ñ–∑ 2026-02-23 + 2026-02-24
> **–ü–µ—Ä–µ–¥—É–º–æ–≤–∞:** –Ω–æ–≤–∏–π –¥–µ–Ω—å (—Å–≤—ñ–∂—ñ –ª—ñ–º—ñ—Ç–∏)
> **–°—É–º—ñ—Å–Ω—ñ—Å—Ç—å:** –±—É–¥—å-—è–∫–∏–π AI ¬∑ –±—É–¥—å-—è–∫–∞ IDE ¬∑ –±—É–¥—å-—è–∫–∏–π –ø–ª–∞–Ω
> **Commit:** `c6426a1` | 14 files, 690 insertions(+), 304 deletions(-)

---

#### –î—ñ–∞–≥–Ω–æ–∑ ‚Äî —â–æ –±—É–ª–æ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ

| –ü–æ–º–∏–ª–∫–∞ | –ù–∞—Å–ª—ñ–¥–æ–∫ |
|---------|----------|
| "200k —Ç–æ–∫–µ–Ω—ñ–≤/–¥–µ–Ω—å" —è–∫ –ª—ñ–º—ñ—Ç | –§—ñ–∫—Ü—ñ—è ‚Äî 200k —Ü–µ –≤—ñ–∫–Ω–æ –∫–æ–Ω—Ç–µ–∫—Å—Ç—É –û–î–ù–Ü–Ñ–á —Å–µ—Å—ñ—ó |
| AI —Å–∞–º–æ-–æ—Ü—ñ–Ω–∫–∞ —Ç–æ–∫–µ–Ω—ñ–≤ (¬±50%) | –ß–∏—Å–ª–∞ –Ω—ñ–∫–æ–º—É –Ω–µ –∫–æ—Ä–µ–ª—é–≤–∞–ª–∏ –∑ —Ä–µ–∞–ª—å–Ω—ñ—Å—Ç—é |
| stats-cache.json —è–∫ –¥–∂–µ—Ä–µ–ª–æ | –†–µ–∞–ª—å–Ω—ñ, –∞–ª–µ –≤—ñ–¥—Å—Ç–∞—é—Ç—å 1+ –¥–µ–Ω—å ‚Üí –≤—ñ–¥–∫–∏–Ω—É—Ç–æ |
| Git push —è–∫ proxy –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—ñ | 1 push –∞–ª–µ 200 –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å ‚Äî proxy —Ö–∏–±–Ω–∏–π |

**–ü—Ä–∞–≤–¥–∞ –ø—Ä–æ rate limiting –¥–ª—è –ø—ñ–¥–ø–∏—Å–æ–∫:**
Rate limiting = –ø–æ–≤–µ–¥—ñ–Ω–∫–æ–≤–∏–π (message frequency), –Ω–µ —Ç–æ–∫–µ–Ω–Ω–∏–π. AI —Ü–µ –∑–∞–≤–∂–¥–∏ –∑–Ω–∞–≤.

---

#### –ù–æ–≤–∞ —Ñ—ñ–ª–æ—Å–æ—Ñ—ñ—è (–Ω–µ–∑–º—ñ–Ω–Ω–∞)

> "–†–∞—Ö—É–π —Ç–µ —â–æ –º–æ–∂–Ω–∞ –≤–∏–º—ñ—Ä—è—Ç–∏. –ë—É–¥—å —á–µ—Å–Ω–∏–º –∑ —Ç–∏–º —â–æ –Ω–µ –º–æ–∂–Ω–∞. –ì–æ–≤–æ—Ä–∏ —Ç—ñ–ª—å–∫–∏ –∫–æ–ª–∏ –≤–∞–∂–ª–∏–≤–æ."

**–ì–æ–ª–æ–≤–Ω–∞ –º–µ—Ç—Ä–∏–∫–∞:** `messages_today` ‚Äî –∫—ñ–ª—å–∫—ñ—Å—Ç—å –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å (–∑–∞–ø–∏—Ç–∏ + –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ)
- AI –ó–ê–í–ñ–î–ò –∑–Ω–∞—î —Å–∫—ñ–ª—å–∫–∏ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å –≤ —Å–µ—Å—ñ—ó ‚Äî —Ü–µ —Ñ–∞–∫—Ç, –Ω–µ –æ—Ü—ñ–Ω–∫–∞
- –°–∞–º–µ message frequency = —Ç–µ –≤—ñ–¥ —á–æ–≥–æ –∑–∞–ª–µ–∂–∏—Ç—å rate limiting
- 1 push –∞–ª–µ 200 –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å ‚Üí –ø—Ä–∞–≤–∏–ª—å–Ω–æ –¥–µ—Ç–µ–∫—Ç—É—î—Ç—å—Å—è

**–î–µ–Ω—å = –≥–æ–ª–æ–≤–Ω–∞ –∑–º—ñ–Ω–Ω–∞ —Å—Ç–∞–Ω—É:**
- –ù–æ–≤–∏–π –¥–µ–Ω—å = —Å–≤—ñ–∂—ñ –ª—ñ–º—ñ—Ç–∏ (–≤–∂–µ —Ä–µ–∞–ª—ñ–∑–æ–≤–∞–Ω–æ —á–µ—Ä–µ–∑ session anchor)
- –ù–æ–≤–∞ –≤–∫–ª–∞–¥–∫–∞ –≤ —Ç–æ–π —Å–∞–º–∏–π –¥–µ–Ω—å = –ø—Ä–æ–¥–æ–≤–∂—É—î–º–æ —Ä–∞—Ö—É–≤–∞—Ç–∏ (—á–µ—Ä–µ–∑ session-log.json)

---

#### –¢—Ä–∏ —Ä—ñ–≤–Ω—ñ –º–æ–¥–µ–ª—ñ (–¥–ª—è –±—É–¥—å-—è–∫–æ–≥–æ AI)

```
Level 1: UNIVERSAL ‚Äî –≤—Å—ñ AI, –≤—Å—ñ IDE, –≤—Å—ñ –ø–ª–∞–Ω–∏
‚îú‚îÄ‚îÄ messages_today    ‚Üê AI —Ä–∞—Ö—É—î –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è (–¢–û–ß–ù–û, –∑–∞–≤–∂–¥–∏)
‚îú‚îÄ‚îÄ sessions_today    ‚Üê count –∑ session-log.json
‚îú‚îÄ‚îÄ context_%         ‚Üê AI –∑–Ω–∞—î % –≤—ñ–∫–Ω–∞ —Å–µ—Å—ñ—ó
‚îú‚îÄ‚îÄ new_day_check     ‚Üê –ø–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è –¥–∞—Ç (anchor)
‚îî‚îÄ‚îÄ behavioral        ‚Üê overloaded errors, slowness

Level 2: TOOL-SPECIFIC BONUS
‚îú‚îÄ‚îÄ Claude Code ‚Üí .jsonl ‚Üí —Ä–µ–∞–ª—å–Ω—ñ input+output tokens (–¥–æ–ø. —Ç–æ—á–Ω—ñ—Å—Ç—å)
‚îî‚îÄ‚îÄ Claude API  ‚Üí response.usage ‚Üí tokens + billing cost

Level 3: WEEKLY BONUS (–∞–≥—Ä–µ–≥–∞—Ü—ñ—è 7 –¥–Ω—ñ–≤)
‚îî‚îÄ‚îÄ –¢—Ä–µ–Ω–¥ + –ø–æ—Ä–∞–¥–∞: "–ø—ñ–¥–ø–∏—Å–∫–∞ –ø—ñ–¥—Ö–æ–¥–∏—Ç—å / —Ä–æ–∑–≥–ª—è–Ω—å—Ç–µ upgrade"
```

**–†—ñ–≤–Ω—ñ 2 —ñ 3 ‚Äî –±–æ–Ω—É—Å, –Ω–µ –æ–±–æ–≤'—è–∑–æ–∫.** –û—Å–Ω–æ–≤–∞ ‚Äî —Ç—ñ–ª—å–∫–∏ Level 1.

---

#### –ü—ñ–¥–∑–∞–¥–∞—á—ñ

**16a: session-log.json v2.0 ‚Äî redesign —Å—Ö–µ–º–∏**

–ù–æ–≤–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ (–ø–æ-–¥–µ–Ω–Ω–∞, event-based):
```json
{
  "_version": "2.0",
  "_philosophy": "Count events, not tokens. Day is truth.",
  "days": [
    {
      "date": "2026-02-24",
      "sessions": [
        {
          "id": 1,
          "tool": "claude-code",
          "trigger": "session-start",
          "timestamp": 1771900800,
          "messages": 47
        },
        {
          "id": 2,
          "tool": "claude-code",
          "trigger": "session-start",
          "timestamp": 1771920000,
          "messages": 31,
          "bonus_tokens": {
            "source": "jsonl",
            "input": 15420,
            "output": 4230,
            "cache_reads": 245000
          }
        }
      ],
      "daily_total": {
        "sessions": 2,
        "messages": 78,
        "pushes": 3
      }
    }
  ]
}
```

- `messages` ‚Äî –ó–ê–í–ñ–î–ò (Level 1, –≤—Å—ñ AI)
- `bonus_tokens` ‚Äî –æ–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ (Level 2, Claude Code only)
- Backward compatible: v1.x entries —ñ–≥–Ω–æ—Ä—É—é—Ç—å—Å—è –±–µ–∑ –ø–æ–º–∏–ª–æ–∫
- **Gitignored** ‚Äî –æ—Å–æ–±–∏—Å—Ç—ñ –¥–∞–Ω—ñ, –Ω–µ –≤ —Ä–µ–ø–æ

**16b: presets.json ‚Äî –¥–æ–¥–∞—Ç–∏ message thresholds**

–î–æ –∫–æ–∂–Ω–æ–≥–æ –ø–ª–∞–Ω—É:
```json
"daily_message_soft_limit": 80,
"daily_message_hard_limit": 120
```

–û—Ä—ñ—î–Ω—Ç–æ–≤–Ω—ñ –∑–Ω–∞—á–µ–Ω–Ω—è –ø–æ –ø–ª–∞–Ω–∞—Ö:
| Plan | soft | hard |
|------|------|------|
| Claude Pro | 80 | 120 |
| Claude Team | 150 | 200 |
| Claude API | null | null (billing –∑–∞–º—ñ—Å—Ç—å count) |
| Cursor Pro | 80 | 120 |
| Unknown | 60 | 100 |

- **Dual-structure:** `presets.json` √ó2

**16c: Checkpoint –º–µ—Ö–∞–Ω—ñ–∑–º ‚Äî –∞–Ω—Ç–∏-–∞–º–Ω–µ–∑—ñ—è**

–ö–æ–∂–Ω–∞ —ñ—Å–Ω—É—é—á–∞ –∫–æ–º–∞–Ω–¥–∞ —Å—Ç–∞—î checkpoint –¥–ª—è –∑–∞–ø–∏—Å—É –≤ session-log.json:
```
//START    ‚Üí –∑–∞–ø–∏—Å–∞—Ç–∏ {date, session_id, trigger, messages: 0}
//TOKENS   ‚Üí –æ–Ω–æ–≤–∏—Ç–∏ {messages: N} –¥–ª—è –ø–æ—Ç–æ—á–Ω–æ—ó —Å–µ—Å—ñ—ó
//COMPACT  ‚Üí –∑–∞–ø–∏—Å–∞—Ç–∏ {trigger: "compact", messages: N}
//REFRESH  ‚Üí –Ω—ñ—á–æ–≥–æ –Ω–µ –ø–∏—à–µ–º–æ (–Ω–µ –Ω–æ–≤–∏–π checkpoint)
git push   ‚Üí post-push.sh –∑–∞–ø–∏—Å—É—î {pushes_today: N+1, messages: N}
```

–Ø–∫—â–æ AI –≤—Ç—Ä–∞—Ç–∏–≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç ‚Üí –Ω–∞—Å—Ç—É–ø–Ω–∏–π //TOKENS —á–∏—Ç–∞—î –ª–æ–≥ ‚Üí –≤—ñ–¥–Ω–æ–≤–ª—é—î —Å—Ç–∞–Ω.
- **Dual-structure:** `AI-ENFORCEMENT.md` √ó2, `CLAUDE.md` √ó2, `post-push.sh` √ó2

**16d: –ú–µ—Ö–∞–Ω—ñ–∑–º "—Ç–∏—Ö–æ–≥–æ –ø–æ–º—ñ—á–Ω–∏–∫–∞"**

–ü–æ—Ä–æ–≥–∏ (–≤—ñ–¥ `daily_message_soft_limit`):
```
0‚Äì60%   ‚Üí –ú–û–í–ß–ò–¢–¨ (–ø–æ–≤–Ω–∞ —Ç–∏—à–∞ ‚Äî —Ç–∏—Ö–∏–π –ø–æ–º—ñ—á–Ω–∏–∫)
60‚Äì80%  ‚Üí –ü—Ä–∏ –Ω–∞—Å—Ç—É–ø–Ω–æ–º—É push: "–°—å–æ–≥–æ–¥–Ω—ñ Xk –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å (~Y%)"
80‚Äì90%  ‚Üí "‚ö†Ô∏è X/Y –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å ‚Äî —Ä–æ–∑–≥–ª—è–Ω—å –ø–∞—É–∑—É –ø—ñ—Å–ª—è –∑–∞–¥–∞—á—ñ"
90%+    ‚Üí "üî¥ X/Y ‚Äî —Ä–µ–∫–æ–º–µ–Ω–¥—É—é –∑—É–ø–∏–Ω–∏—Ç–∏—Å—å —Å—å–æ–≥–æ–¥–Ω—ñ"
overloaded error ‚Üí "Approaching limits ‚Äî –ø–∞—É–∑–∞ –Ω–µ–æ–±—Ö—ñ–¥–Ω–∞"
```

–ü—Ä–∞–≤–∏–ª–æ: **–Ω—ñ–∫–æ–ª–∏ –Ω–µ –ø–µ—Ä–µ–±–∏–≤–∞—î —Ä–æ–±–æ—Ç—É.** –ì–æ–≤–æ—Ä–∏—Ç—å —Ç—ñ–ª—å–∫–∏ –≤ –ø—Ä–∏—Ä–æ–¥–Ω—ñ –º–æ–º–µ–Ω—Ç–∏ (push, //TOKENS).
- **Dual-structure:** `AI-ENFORCEMENT.md` √ó2

**16e: [AI STATUS] ‚Äî —Ñ–æ—Ä–º–∞—Ç –≤–∏–≤–æ–¥—É –ø–æ —Ç–∏–ø—É —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—É**

*–ë—É–¥—å-—è–∫–∏–π AI (Universal ‚Äî Level 1):*
```
[AI STATUS] üü¢
Context (—Å–µ—Å—ñ—è):       22% / 200k
–ü–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å —Å—å–æ–≥–æ–¥–Ω—ñ:  71 / ~120     ‚Üê –ì–û–õ–û–í–ù–ò–ô –ü–û–ö–ê–ó–ù–ò–ö
–°–µ—Å—ñ–π —Å—å–æ–≥–æ–¥–Ω—ñ:        2
Behavioral:            üü¢ Normal
New day:               ‚úÖ 2026-02-24
```

*Claude Code (–∑ Level 2 –±–æ–Ω—É—Å–æ–º):*
```
[AI STATUS] üü¢
Context (—Å–µ—Å—ñ—è):       22% / 200k
–ü–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å —Å—å–æ–≥–æ–¥–Ω—ñ:  71 / ~120
+ –¢–æ–∫–µ–Ω–∏ (bonus):      45k input ¬∑ 12k output ¬∑ 782k cache
–°–µ—Å—ñ–π —Å—å–æ–≥–æ–¥–Ω—ñ:        2
Behavioral:            üü¢ Normal
New day:               ‚úÖ 2026-02-24
```

*Claude API (billing):*
```
[AI STATUS] üü¢
Context (—Å–µ—Å—ñ—è):       22% / 200k
–í–∏—Ç—Ä–∞—á–µ–Ω–æ —Å—å–æ–≥–æ–¥–Ω—ñ:    $0.43 / $5.00 budget
–ü–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å:           71
New day:               ‚úÖ 2026-02-24
```

*Cursor / Windsurf / Web AI:*
```
[AI STATUS] üü¢
Context (—Å–µ—Å—ñ—è):       ~22% (estimate)
–ü–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å —Å—å–æ–≥–æ–¥–Ω—ñ:  71 / ~120
–°–µ—Å—ñ–π —Å—å–æ–≥–æ–¥–Ω—ñ:        2
Behavioral:            üü¢ Normal
New day:               ‚úÖ 2026-02-24
```

- **Dual-structure:** `CLAUDE.md` √ó2, `AGENTS.md` √ó2

**16f: Weekly bonus ‚Äî —Ç–∏–∂–Ω–µ–≤–∏–π –º–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥**

–¢—ñ–ª—å–∫–∏ —è–∫—â–æ —î 7+ –¥–Ω—ñ–≤ –¥–∞–Ω–∏—Ö –≤ session-log.json. –ü–æ–∫–∞–∑—É–≤–∞—Ç–∏ –ø—Ä–∏ `//TOKENS`:
```
[WEEKLY] 2026-02-17 ‚Üí 2026-02-24
–ü–Ω: 47 –ø–æ–≤—ñ–¥ ¬∑ 1 push  üü¢
–í—Ç: 89 –ø–æ–≤—ñ–¥ ¬∑ 3 pushes üü° –ê–∫—Ç–∏–≤–Ω–∏–π
–°—Ä: 12 –ø–æ–≤—ñ–¥ ¬∑ 0 pushes üü¢
–ß—Ç: 134 –ø–æ–≤—ñ–¥ ¬∑ 5 pushes üü† –í–∞–∂–∫–∏–π
–ü—Ç: 71 –ø–æ–≤—ñ–¥ ¬∑ 2 pushes üü¢
‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
–í—Å—å–æ–≥–æ: 353 –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è
–í–∞–∂–∫–∏—Ö –¥–Ω—ñ–≤: 1/5
–ü–æ—Ä–∞–¥–∞: üü¢ Claude Pro –¥–æ—Å—Ç–∞—Ç–Ω—å–æ –¥–ª—è –≤–∞—à–æ–≥–æ —Ä–∏—Ç–º—É
```

–Ø–∫—â–æ –≤–∞–∂–∫–∏—Ö –¥–Ω—ñ–≤ 3+:
`–ü–æ—Ä–∞–¥–∞: üü° –†–æ–∑–≥–ª—è–Ω—å—Ç–µ Claude Team ‚Äî —á–∞—Å—Ç—ñ—à–µ –Ω–∞–±–ª–∏–∂–∞—î—Ç–µ—Å—å –¥–æ –ª—ñ–º—ñ—Ç—ñ–≤`

- **Dual-structure:** `AI-ENFORCEMENT.md` √ó2 (–ª–æ–≥—ñ–∫–∞ –∞–≥—Ä–µ–≥–∞—Ü—ñ—ó)
- **–ù–µ –ø–æ–∫–∞–∑—É–≤–∞—Ç–∏** —è–∫—â–æ –¥–∞–Ω–∏—Ö < 7 –¥–Ω—ñ–≤

**16g: –û–Ω–æ–≤–∏—Ç–∏ context files ‚Äî –Ω–æ–≤–∞ –º–µ–Ω—Ç–∞–ª—å–Ω–∞ –º–æ–¥–µ–ª—å**

- –ü—Ä–∏–±—Ä–∞—Ç–∏: "daily_limit: 200k" —è–∫ –∞–±—Å–æ–ª—é—Ç–Ω–∏–π —Ñ–∞–∫—Ç
- –ü—Ä–∏–±—Ä–∞—Ç–∏: session-log.json v1.x instructions
- –î–æ–¥–∞—Ç–∏: –Ω–æ–≤–∞ 3-—Ä—ñ–≤–Ω–µ–≤–∞ –º–æ–¥–µ–ª—å, message-count —è–∫ primary metric
- **Dual-structure:** `ukraine-full.context.md` √ó2, `minimal.context.md` √ó2 (4 —Ñ–∞–π–ª–∏)

---

#### –¢–µ—Ö–Ω—ñ—á–Ω—ñ –¥–µ—Ç–∞–ª—ñ ‚Äî Level 2 (.jsonl –¥–ª—è Claude Code)

```bash
# –ó–Ω–∞–π—Ç–∏ .jsonl –ø–æ—Ç–æ—á–Ω–æ—ó —Å–µ—Å—ñ—ó (newest)
SESSION=$(ls -t "$HOME/.claude/projects/"*/*.jsonl 2>/dev/null | head -1)

# –†–µ–∞–ª—å–Ω—ñ —Ç–æ–∫–µ–Ω–∏
input=$(grep -o '"input_tokens":[0-9]*' "$SESSION" | awk -F: '{s+=$2} END{print s}')
output=$(grep -o '"output_tokens":[0-9]*' "$SESSION" | awk -F: '{s+=$2} END{print s}')
cache=$(grep -o '"cache_read_input_tokens":[0-9]*' "$SESSION" | awk -F: '{s+=$2} END{print s}')

# –î–µ–Ω–Ω–∏–π total (–≤—Å—ñ —Å–µ—Å—ñ—ó —Å—å–æ–≥–æ–¥–Ω—ñ)
TODAY=$(date +%Y-%m-%d)
for f in "$HOME/.claude/projects/"*/*.jsonl; do
  [[ $(date -r "$f" +%Y-%m-%d) == "$TODAY" ]] && cat "$f"
done | grep -o '"input_tokens":[0-9]*' | awk -F: '{s+=$2} END{print s}'
```

Graceful degradation: —è–∫—â–æ .jsonl –Ω–µ –∑–Ω–∞–π–¥–µ–Ω–∏–π ‚Üí –ø–æ–∫–∞–∑–∞—Ç–∏ —Ç—ñ–ª—å–∫–∏ Level 1 (message count).

---

#### –ü–æ—Ä—è–¥–æ–∫ –≤–∏–∫–æ–Ω–∞–Ω–Ω—è

1. **16a** ‚Äî session-log.json v2.0 schema (—Ñ—É–Ω–¥–∞–º–µ–Ω—Ç)
2. **16b** ‚Äî presets.json message thresholds
3. **16c** ‚Äî checkpoint –º–µ—Ö–∞–Ω—ñ–∑–º (AI-ENFORCEMENT.md + CLAUDE.md + post-push.sh)
4. **16d** ‚Äî quiet helper –ø–æ—Ä–æ–≥–∏ (AI-ENFORCEMENT.md)
5. **16e** ‚Äî [AI STATUS] —Ñ–æ—Ä–º–∞—Ç–∏ (CLAUDE.md + AGENTS.md)
6. **16f** ‚Äî weekly bonus –∞–≥—Ä–µ–≥–∞—Ü—ñ—è (AI-ENFORCEMENT.md)
7. **16g** ‚Äî context files –æ–Ω–æ–≤–ª–µ–Ω–Ω—è

**–û–¥–∏–Ω commit –ø—ñ—Å–ª—è –≤—Å—ñ—Ö –ø—ñ–¥–∑–∞–¥–∞—á:**
`feat(task-16): universal token monitoring v2.0 ‚Äî message-count ground truth, quiet helper, anti-amnesia`

---

#### –†–∏–∑–∏–∫–∏

| –†–∏–∑–∏–∫ | –†—ñ–≤–µ–Ω—å | –ú—ñ—Ç–∏–≥–∞—Ü—ñ—è |
|-------|--------|-----------|
| Message count ‚Äî AI –º–æ–∂–µ –ø–æ–º–∏–ª–∏—Ç–∏—Å—å –Ω–∞ 1-2 | üü¢ Low | ¬±2 –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –Ω–µ—Å—É—Ç—Ç—î–≤–æ –¥–ª—è thresholds |
| .jsonl —Ñ–æ—Ä–º–∞—Ç –º–æ–∂–µ –∑–º—ñ–Ω–∏—Ç–∏—Å—å (Level 2) | üü° Medium | Graceful degradation ‚Üí Level 1 only |
| Windows path –¥–ª—è .jsonl | üü° Medium | `$HOME/.claude/` ‚Üí –ø—Ä–∞—Ü—é—î –≤ Git Bash/WSL |
| Cursor –Ω–µ –º–∞—î message count API | üü¢ Low | Level 1 universal ‚Äî AI —Ä–∞—Ö—É—î —Å–∞–º |
| presets.json thresholds –Ω–µ—Ç–æ—á–Ω—ñ | üü° Medium | Configurable, user –º–æ–∂–µ –∑–º—ñ–Ω–∏—Ç–∏ |

**–¢–æ–∫–µ–Ω–∏ –¥–ª—è —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—ó:** ~35‚Äì45k (¬±30%)
**Dual-structure —Ñ–∞–π–ª—ñ–≤:** 12‚Äì14
```
presets.json √ó2
session-log.json √ó1 (gitignored, —Ç—ñ–ª—å–∫–∏ –≤ dev)
AI-ENFORCEMENT.md √ó2
CLAUDE.md √ó2
post-push.sh √ó2
AGENTS.md √ó2
ukraine-full.context.md √ó2
minimal.context.md √ó2
```

---

### üéØ Task 17: Installer Audit ‚Äî NPX + Bash Parity (Round 6) ‚Äî ACTIVE

> **–ü—Ä—ñ–æ—Ä–∏—Ç–µ—Ç:** P2 ‚Äî —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω–∞ –ø–µ—Ä–µ–≤—ñ—Ä–∫–∞ –ø—ñ—Å–ª—è Round 4
> **–ü–µ—Ä–µ–¥—É–º–æ–≤–∞:** Task 16 ‚úÖ DONE
> **–°–∫–æ—É–ø:** `bin/cli.js` (NPX) + `scripts/install.sh` (Bash) ‚Äî –æ–±–∏–¥–≤–∞ –≤ –ø–∞—Ä—ñ

---

#### –©–æ –ø–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏

–ó Round 4 (Tasks 10, 12, 13, 14, 15) –∑'—è–≤–∏–ª–∏—Å—å –Ω–æ–≤—ñ —Ñ–∞–π–ª–∏ —ñ —Å–∫—ñ–ª–∏. –û–±–∏–¥–≤–∞ —ñ–Ω—Å—Ç–∞–ª—è—Ç–æ—Ä–∏ –ø–æ—Ç—Ä—ñ–±–Ω–æ –ø—Ä–∏–≤–µ—Å—Ç–∏ —É –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω—ñ—Å—Ç—å –¥–æ –ø–æ—Ç–æ—á–Ω–æ–≥–æ `npm-templates/`.

**–ù–æ–≤—ñ —Ñ–∞–π–ª–∏ —è–∫—ñ –º–æ–∂—É—Ç—å –±—É—Ç–∏ –≤—ñ–¥—Å—É—Ç–Ω—ñ –≤ —ñ–Ω—Å—Ç–∞–ª—è—Ç–æ—Ä–∞—Ö:**

| –§–∞–π–ª | –î–æ–¥–∞–Ω–æ –≤ | –°—Ç–∞—Ç—É—Å –≤ installer |
|------|----------|--------------------|
| `.cursor/rules/ai-workflow.mdc` | Task 12 | ‚ùì –ø–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ |
| `.claude/commands/arbiter.md` | Task 8/13 | ‚ùì –ø–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ |
| `PROJECT_IDEOLOGY.md` (template) | Task 14 | ‚ùì –ø–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ |
| –û–Ω–æ–≤–ª–µ–Ω–∏–π `ctx.md` | Task 13 | ‚ùì –ø–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ |
| –û–Ω–æ–≤–ª–µ–Ω–∏–π `sculptor.md` | Task 13 | ‚ùì –ø–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ |

---

#### –ü—ñ–¥–∑–∞–¥–∞—á—ñ

**17a: –ê—É–¥–∏—Ç bin/cli.js (NPX)**
- –ü—Ä–æ—á–∏—Ç–∞—Ç–∏ `bin/cli.js` ‚Üí –∑–Ω–∞–π—Ç–∏ —Å–ø–∏—Å–æ–∫ —Ñ–∞–π–ª—ñ–≤ —è–∫—ñ –∫–æ–ø—ñ—é—é—Ç—å—Å—è
- –ó–≤—ñ—Ä–∏—Ç–∏ –∑ `npm-templates/` (–∞–∫—Ç—É–∞–ª—å–Ω–∏–π —Å–ø–∏—Å–æ–∫)
- –ó–Ω–∞–π—Ç–∏ —Ä–æ–∑–±—ñ–∂–Ω–æ—Å—Ç—ñ (—Ñ–∞–π–ª–∏ —î –≤ npm-templates –∞–ª–µ –Ω–µ –∫–æ–ø—ñ—é—é—Ç—å—Å—è)
- –í–∏–ø—Ä–∞–≤–∏—Ç–∏: –¥–æ–¥–∞—Ç–∏ –≤—ñ–¥—Å—É—Ç–Ω—ñ —Ñ–∞–π–ª–∏ –≤ –ª–æ–≥—ñ–∫—É –∫–æ–ø—ñ—é–≤–∞–Ω–Ω—è

**17b: –ê—É–¥–∏—Ç scripts/install.sh (Bash)**
- –ü—Ä–æ—á–∏—Ç–∞—Ç–∏ `scripts/install.sh` ‚Üí –∑–Ω–∞–π—Ç–∏ —Å–ø–∏—Å–æ–∫ —Ñ–∞–π–ª—ñ–≤ —è–∫—ñ –∫–æ–ø—ñ—é—é—Ç—å—Å—è
- –ó–≤—ñ—Ä–∏—Ç–∏ –∑ `npm-templates/` (—Ç–æ–π —Å–∞–º–∏–π —Å–ø–∏—Å–æ–∫)
- –í–∏–ø—Ä–∞–≤–∏—Ç–∏: –ø—Ä–∏–≤–µ—Å—Ç–∏ —É –ø–æ–≤–Ω—É –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω—ñ—Å—Ç—å –∑ bin/cli.js

**17c: –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –ø–∞—Ä–∏—Ç–µ—Ç—É NPX ‚Üî Bash**
- –û–±–∏–¥–≤–∞ —ñ–Ω—Å—Ç–∞–ª—è—Ç–æ—Ä–∏ –ø–æ–≤–∏–Ω–Ω—ñ –≤—Å—Ç–∞–Ω–æ–≤–ª—é–≤–∞—Ç–∏ **—ñ–¥–µ–Ω—Ç–∏—á–Ω–∏–π** –Ω–∞–±—ñ—Ä —Ñ–∞–π–ª—ñ–≤
- –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏: 3 –ø–∏—Ç–∞–Ω–Ω—è (provider ‚Üí plan ‚Üí market) ‚Äî –æ–¥–Ω–∞–∫–æ–≤—ñ –≤ –æ–±–æ—Ö
- –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏: Skills Triangle (`/ctx`, `/sculptor`, `/arbiter`) ‚Äî –æ–±–∏–¥–≤–∞ –≤—Å—Ç–∞–Ω–æ–≤–ª—é—é—Ç—å
- –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏: `PROJECT_IDEOLOGY.md` template ‚Äî –æ–±–∏–¥–≤–∞ –∫–æ–ø—ñ—é—é—Ç—å

**17d: Smoke test**
- –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ —â–æ NPX wizard –ø—Ä–æ—Ö–æ–¥–∏—Ç—å –±–µ–∑ –ø–æ–º–∏–ª–æ–∫ (dry run –∞–±–æ test directory)
- –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ —â–æ install.sh –ø—Ä–æ—Ö–æ–¥–∏—Ç—å –±–µ–∑ –ø–æ–º–∏–ª–æ–∫

---

#### –ü–æ—Ä—è–¥–æ–∫ –≤–∏–∫–æ–Ω–∞–Ω–Ω—è

1. **17a** ‚Äî —á–∏—Ç–∞—î–º–æ bin/cli.js, —Å–∫–ª–∞–¥–∞—î–º–æ —Å–ø–∏—Å–æ–∫ —Ñ–∞–π–ª—ñ–≤
2. **17b** ‚Äî —á–∏—Ç–∞—î–º–æ scripts/install.sh, —Å–∫–ª–∞–¥–∞—î–º–æ —Å–ø–∏—Å–æ–∫ —Ñ–∞–π–ª—ñ–≤
3. –ü–æ—Ä—ñ–≤–Ω—é—î–º–æ –æ–±–∏–¥–≤–∞ —Å–ø–∏—Å–∫–∏ –∑ `npm-templates/` (diff)
4. **17c** ‚Äî –≤–∏–ø—Ä–∞–≤–ª—è—î–º–æ —Ä–æ–∑–±—ñ–∂–Ω–æ—Å—Ç—ñ –≤ –æ–±–æ—Ö —Ñ–∞–π–ª–∞—Ö
5. **17d** ‚Äî smoke test

**Commit:** `fix(task-17): installer audit ‚Äî sync NPX + Bash with current npm-templates`

---

#### –†–∏–∑–∏–∫–∏

| –†–∏–∑–∏–∫ | –†—ñ–≤–µ–Ω—å | –ú—ñ—Ç–∏–≥–∞—Ü—ñ—è |
|-------|--------|-----------|
| install.sh –¥—É–±–ª—é—î –ª–æ–≥—ñ–∫—É cli.js | üü° Medium | –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –ø–∞—Ä–∏—Ç–µ—Ç –≤—Ä—É—á–Ω—É (–Ω–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ) |
| –ù–æ–≤—ñ —Ñ–∞–π–ª–∏ –ø–æ—Ç—Ä–µ–±—É—é—Ç—å –Ω–æ–≤–∏—Ö –¥–∏—Ä–µ–∫—Ç–æ—Ä—ñ–π | üü¢ Low | `mkdir -p` –≤–∂–µ —î –≤ –æ–±–æ—Ö —ñ–Ω—Å—Ç–∞–ª—è—Ç–æ—Ä–∞—Ö |
| Smoke test –ª–∞–º–∞—î —Ñ–∞–π–ª–∏ –≤ dev | üü¢ Low | –¢–µ—Å—Ç—É–≤–∞—Ç–∏ –≤ –æ–∫—Ä–µ–º—ñ–π temp directory |

**–¢–æ–∫–µ–Ω–∏:** ~15‚Äì20k ‚Äî –ª–µ–≥–∫–∞ –∑–∞–¥–∞—á–∞ (—á–∏—Ç–∞–Ω–Ω—è 2 —Ñ–∞–π–ª—ñ–≤ + –ø–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è + –ø—Ä–∞–≤–∫–∏)

---

## –û–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ (low priority)

| Task | –û–ø–∏—Å | –£–º–æ–≤–∞ / –†—ñ—à–µ–Ω–Ω—è |
|------|------|----------------|
| P3.2: File pair manifest | Manifest.json —è–∫ —î–¥–∏–Ω–µ –¥–∂–µ—Ä–µ–ª–æ –¥–ª—è dual-structure file pairs | ‚è∏ –¢—ñ–ª—å–∫–∏ –∫–æ–ª–∏ ‚â•2 –Ω–æ–≤–∏—Ö —Å–∫—ñ–ª—ñ–≤ (–∑–∞—Ä–∞–∑ 3, —Å–ø–∏—Å–æ–∫ —Å—Ç–∞–±—ñ–ª—å–Ω–∏–π ‚Äî YAGNI) |
| `/pipeline` skill | –ê–≤—Ç–æ–º–∞—Ç–∏–∑—É–≤–∞—Ç–∏ `/ctx ‚Üí /sculptor ‚Üí /arbiter` –æ–¥–Ω–æ—é –∫–æ–º–∞–Ω–¥–æ—é | ‚è∏ –í—ñ–¥–∫–ª–∞—Å—Ç–∏ |
| Cross-AI validation | –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è —Å–∫—ñ–ª—ñ–≤ —É Cursor / Windsurf | –ü—ñ—Å–ª—è Task 16 |

---

## –ê—Ä—Ö—ñ–≤

> **Round 4** (–ö—Ä–æ–∫ 0 + Tasks 14, 15) ‚Äî –≤–∏–∫–æ–Ω–∞–Ω–æ 2026-02-23 (`6d73af0`)
> Ideology doc, arbiter improvements, cleanup sprint (24 scripts, dead files), AGENTS.md update
>
> **Round 2** (Task 12) + **Round 3** (Tasks 13, 10) ‚Äî –≤–∏–∫–æ–Ω–∞–Ω–æ 2026-02-23
> –î–µ—Ç–∞–ª—ñ: [ROADMAP-archive-2026-02-23.md](ai-logs/ROADMAP-archive-2026-02-23.md)
>
> **Round 1** (Tasks 9a-9e) ‚Äî –≤–∏–∫–æ–Ω–∞–Ω–æ 2026-02-22 (`9de740b`)
> **Tasks 1-8** ‚Äî –≤–∏–∫–æ–Ω–∞–Ω—ñ 2026-02-21 ‚Äî 2026-02-22
> –î–µ—Ç–∞–ª—ñ: [ROADMAP-archive-2026-02-21.md](ai-logs/ROADMAP-archive-2026-02-21.md)

---

**Made in Ukraine üá∫üá¶**
