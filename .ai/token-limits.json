{
  "_comment": "ðŸ¤– Universal AI Token Tracker v3.0 - Intelligent Budget Management",
  "_disclaimer": "Limits are CONSERVATIVE (intentionally 10-20% lower). You'll get early warnings, not surprises.",
  "_howto": "1. Set 'provider' below  2. Set 'plan'  3. Copy limits from PRESETS (or leave defaults)  4. Done!",
  "_version": "3.0.0",
  "_updated": "2026-02-03",
  "_changelog": "v3.0: Pre-flight approval, confidence-based estimation, variance learning, emergency reserves, smart batching",

  "provider": "anthropic",
  "plan": "pro",

  "monthly_limit": 5000000,
  "daily_limit": 150000,

  "PRESETS": {
    "_note": "These are SAFE estimates. Your actual limits may be higher - always check provider docs.",

    "anthropic": {
      "free": { "monthly": 250000, "daily": 8000 },
      "pro": { "monthly": 5000000, "daily": 150000 },
      "team": { "monthly": 25000000, "daily": 800000 },
      "_docs": "https://console.anthropic.com/settings/limits",
      "_updated": "2026-01"
    },

    "openai": {
      "free": { "monthly": 80000, "daily": 4000 },
      "plus": { "monthly": 800000, "daily": 40000 },
      "team": { "monthly": 4000000, "daily": 150000 },
      "_docs": "https://platform.openai.com/account/limits",
      "_updated": "2026-01"
    },

    "google": {
      "free": { "monthly": 400000, "daily": 15000 },
      "pro": { "monthly": 1500000, "daily": 80000 },
      "_docs": "https://ai.google.dev/pricing",
      "_updated": "2026-01"
    },

    "cursor": {
      "free": { "monthly": 150000, "daily": 8000 },
      "pro": { "monthly": 1500000, "daily": 80000 },
      "_docs": "https://cursor.sh/pricing",
      "_updated": "2026-01"
    },

    "github_copilot": {
      "free": { "monthly": 100000, "daily": 5000 },
      "individual": { "monthly": 500000, "daily": 25000 },
      "business": { "monthly": 2000000, "daily": 100000 },
      "_docs": "https://github.com/features/copilot",
      "_updated": "2026-01"
    },

    "custom": {
      "_info": "Set your own limits above if your provider isn't listed"
    },

    "disabled": {
      "_info": "Set 'provider' to 'disabled' and 'tracking_enabled' to false to turn off tracking completely"
    }
  },

  "tracking_enabled": true,

  "current_month": "2026-01",
  "monthly_usage": 0,
  "monthly_percentage": 0,

  "daily_usage": 0,
  "daily_percentage": 0,
  "last_reset_daily": "2026-01-31T00:00:00Z",
  "last_reset_monthly": "2026-01-01T00:00:00Z",

  "thresholds": {
    "green": 50,
    "moderate": 70,
    "caution": 90,
    "critical": 95
  },

  "current_status": "green",
  "current_zone": "ðŸŸ¢ Green - Full capacity",

  "sessions": [],

  "optimization_stats": {
    "context_compressions": 0,
    "tokens_saved_by_compression": 0,
    "diff_only_mode_activations": 0,
    "lazy_loading_prevented_reads": 0
  },

  "v3_features": {
    "_comment": "Token Control v3.0 - Intelligent Budget Management",

    "auto_approve_thresholds": {
      "_comment": "Tasks below threshold auto-approve (based on current zone)",
      "green_zone": 15000,
      "moderate_zone": 8000,
      "caution_zone": 3000,
      "critical_zone": 0
    },

    "session_tracking": {
      "_comment": "Real-time session budget tracking",
      "used": 0,
      "committed": 0,
      "available": 150000,
      "reserve_percent": 10,
      "reserve_tokens": 15000,
      "safe_available": 135000
    },

    "variance_history": {
      "_comment": "Learning data for estimate accuracy improvement",
      "_max_records": 100,
      "_current_count": 0,
      "_example_record": {
        "task_id": "uuid-here",
        "date": "2026-02-03T14:30:00Z",
        "request_brief": "Refactor auth middleware",
        "task_type": "refactor",
        "scope": "medium",
        "complexity": "moderate",
        "estimated_tokens": 40000,
        "actual_tokens": 45000,
        "variance_tokens": 5000,
        "variance_percent": 12.5,
        "confidence_level": "medium",
        "confidence_range": "Â±30%",
        "within_range": true,
        "reason": "Additional type definitions needed",
        "files_estimated": 3,
        "files_actual": 4,
        "user_approved_as_is": true
      },
      "tasks": []
    },

    "learning_stats": {
      "_comment": "Accuracy metrics for self-improvement",
      "total_tasks": 0,
      "avg_variance_percent": 0,
      "high_confidence_tasks": 0,
      "medium_confidence_tasks": 0,
      "low_confidence_tasks": 0,
      "accuracy_trend": "improving",
      "last_calibration": null
    },

    "batch_opportunities": {
      "_comment": "Track detected batch optimizations",
      "detected": 0,
      "accepted": 0,
      "tokens_saved": 0
    },

    "deferred_tasks": {
      "_comment": "Queue of tasks user chose to defer",
      "queue": []
    },

    "learning_enabled": true,
    "self_calibration_enabled": true,
    "batch_detection_enabled": true
  },

  "notes": [
    "v3.0: Intelligent budget management with pre-flight approval",
    "Limits are CONSERVATIVE (10-20% lower) for early warnings",
    "Check PRESETS above for your provider and plan",
    "Pre-flight estimates shown BEFORE execution (tasks >5k)",
    "Confidence levels: HIGH (Â±15%), MEDIUM (Â±30%), LOW (Â±50%)",
    "System learns from variance to improve estimates over time",
    "Emergency reserve (10-15%) always protected",
    "Smart batching suggests optimizations automatically",
    "Context compression auto-triggers at 50% (saves 40-60% tokens)",
    "AI automatically updates this file - no manual tracking needed"
  ],

  "history": {
    "_comment": "Daily usage tracking - AI fills this automatically"
  }
}
